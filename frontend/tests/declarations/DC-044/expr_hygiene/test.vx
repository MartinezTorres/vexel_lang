// @rfc: doc/vexel-rfc.md#declarations
// @desc: Variables in expression parameters resolve in caller'"'"'s scope, not function'"'"'s scope (hygiene) | Expression parameters resolve in caller scope


// DC-044: Expression parameter variables resolve in caller scope
&test($expr) {
    x:#i32 = 999;  // Function's local x
    $expr;
}

&^main() -> #i32 {
    x:#i32 = 10;  // Main's local x
    test(x = x + 1);
    x  // Should be 11, not 1000
}
