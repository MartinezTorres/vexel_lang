// @rfc: docs/vexel-rfc.md#runtime-semantics
// @desc: Conditional expression compiler attempts to evaluate condition at compile time | Conditional expression compiler attempts to evaluate condition at compile time
// @expect-exit: 100
// @run-generated: true
// @command: {VEXEL} -b c test.vx


// RT-030: Conditional expression compiler attempts to evaluate condition at compile time

USE_FAST:#b = 1;

&fast_impl() -> #i32 { 100; }
&slow_impl() -> #i32 { 50; }

&^main() -> #i32 {
    // Condition is compile-time constant
    USE_FAST ? fast_impl() : slow_impl()
}
