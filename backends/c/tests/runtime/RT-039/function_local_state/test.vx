// @rfc: doc/vexel-rfc.md#runtime-semantics
// @desc: All mutable state is function-local (except through references) | All mutable state is function-local (except through references)
// @expect-exit: 30
// @run-generated: true
// @command: {VEXEL_C} test.vx


// RT-039: All mutable state is function-local (except through references)

&compute() -> #i32 {
    mut local #i32 = 10;
    local = local + 5;
    local
}

&^main() -> #i32 {
    a:#i32 = compute();
    b:#i32 = compute();
    a + b  // Both should be 15, so 30
}
