// @rfc: docs/vexel-rfc.md#runtime-semantics
// @desc: Compile-time conditionals eliminate dead branches before type checking | Compile-time conditionals eliminate dead branches before type checking
// @expect-exit: 42
// @run-generated: true
// @command: {VEXEL_C} test.vx


// RT-026: Compile-time conditionals eliminate dead branches before type checking

DEBUG:#b = 0;

&^main() -> #i32 {
    // When DEBUG is false, the true branch is eliminated
    // So it doesn't matter that it has invalid code
    DEBUG ? this_does_not_exist() : 42
}
