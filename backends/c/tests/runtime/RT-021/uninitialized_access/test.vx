// @rfc: docs/vexel-rfc.md#runtime-semantics
// @desc: Runtime-initialized globals remain mutable when compile-time evaluation fails
// @expect-exit: 0
// @command: {VEXEL_C} test.vx


// RT-021: Runtime-initialized globals are mutable when compile-time evaluation fails

&bad_func() -> #i32 {
    x:#i32;
    // Accessing uninitialized variable
    x;
}

// Compile-time evaluation fails, so this initializes at runtime and remains mutable
value:#i32 = bad_func();

&^main() -> #i32 {
    value
}
